# ZJUnFoldView

[![Platform](https://img.shields.io/badge/platform-iOS-red.svg)](https://developer.apple.com/iphone/index.action)
[![Language](http://img.shields.io/badge/language-OC-yellow.svg?style=flat )](https://en.wikipedia.org/wiki/Objective-C) 
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](http://mit-license.org)
[![CocoaPods Compatible](https://img.shields.io/cocoapods/v/ZJUnFoldView.svg)](https://img.shields.io/cocoapods/v/ZJUnFoldView.svg)
[![Weibo](https://img.shields.io/badge/%E5%BE%AE%E5%8D%9A-%40Abnerzj-f65a14.svg?logo=data%3aimage%2fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE7ElEQVR4Ae1Wf2iUdRh%252ftuk2CVk4WgRm273v%252fXidtpEUiekOloRrQkama5UR9EcxVKIiCGmjQIIhze1uZf4wxWmGlEhkwWAohDJNppVxI9zde3rdus77Me92t93z9HyP965733uXY1RQ%252bMGH9%252fv4ft%252fv5%252fN9ns%252f3e4M7%252bN8h1gfVHPs5zkddcImfgzEX7Iz0wUPwbyDeB69G%252bwBzweSkjTMcJxO7YTH8k0i44H4m%252bjrigi%252f4eYQFnOXnZIGgGzd3QwPMBeR0zvNbHDZ%252fna1BXbx4AcwStz6G%252b7gd%252faIKoiLcFjXeDzUwW9yoUx5QJeVDVXYEOEiLwJismPaVdsECJtvKpO%252fH3bCRDkBltj0ueI0FIAdxfAq3g9glE%252b30SfYkB4oQ5NqYw3ZiBiNuMXjgp4gbLJpHjmjvpsI9sARmwpjVqjDJFT2hXoBXsn8HJghuu%252bveyAdle6O9cJCJQhrhBToOZVwFJW9SF3SAGbx1ylomuGkkLM4dR4HxY319Of9%252fk9di3%252baX7O%252f56%252bXtwceWZHcc3QUyk01kq9ELq4ighMdjImej7gUjfJLyFC%252bW5KDbhuQ4wc89qmy%252fafI%252b6bNa1wCD23BGa8ULWn5O88Hn%252bp1bbM3iw6IdzzHnihwGBhP%252fnN3xbng8m7vAk21Bb4ERVYti9cn23%252bdOaGrSg5qAFi7328ID4qbkfJoDefwm5HrIHwzPtKB%252fWSMGNz2H4R2dbJx%252biu07wCZyY%252fidHfjr0xtJdSybySMvgQEsopzJzzO5GumFOhBQrcpbZj0OPrOJbp08RZl4nP4K0%252bPjFP1oD11%252feKXRIwN%252b2bGySEQnlHLMyybXahvvZrXhgh3wQo%252firVNfIWYySAzUkEqlMBaLUTqdRg2699OhEI5vedlYQfE8GZDle8AMqtW%252btfCDG85mSo%252bNYQFoaGgIW1tbsaqqCsvKyqi6uhrb29txdHQ0LyCPyUlRObOWXLxWW1sJRvCEofzk%252bgZMXb2qW7Czs5NKSkqQp%252baCcuNFixbhyMiIbj4xUpevCGKTi8v2ipmAeK5n4Xe7qBDHjh0TZLooLS2l8vLyfO50OknwGnF9VVORp9gP%252b8GIQoXJM2d1JW1sbMzueOHChbh%252b%252fXqsra3Frq4u6u7uzlekoqKC4vF4kScCTzxZfCpku9tMQDA3ITVyOb9AIpEQiyOTk8fjQYFIJII1NTXEPsgLqKyspImJCZ2ATDSKqrK8uAWy%252fVkTAfZDuQnxo5%252flBQinC7OtXr06m%252bdEcd%252fzHhDR3Nxc5IGou9%252fMhJ5RWa4oFmBxLOdJKQ4KrGsl4eIcOjo6aP78%252beR2u2lwcJBaWlp0fhC7Hx4epkJMDl8gdemDxv6nfFZlDcwEr%252fTnUQy9%252fgbxgUeGOPPIJtPtWCMXrcDTp0%252frPJP45lv0N6ww3gMpvpI3QxHMRWQrEdy4GVNXfkCBqakpGhgYwLa2NmxqasINGzZQT08PhsNhFCD%252bl%252faMYmjrduQb1XiVB7xWZS3MFmqd7RFe4FxWuW0pjre%252fiPFDh0mIybABMZnETCJB07%252bFcPLCRYx9sg%252bDbc8TzzX2PO2VHHt0t99sQQClqmRbp8rKl7xYIt9HqyJ%252blIgvK5GbBXKofNa7fbIswd%252bBXyyWKtWitHhlR5cq2Y%252bLP8H41Fzi3%252flLquT4nvNBzvdyvo13vILFl8F%252fDXfwB6rTSvg9dQ5kAAAAAElFTkSuQmCC&style=flat&logoWidth=14&label=)](http://weibo.com/ioszj)
[![Jianshu](https://img.shields.io/badge/%E7%AE%80%E4%B9%A6-%40Abnerzj-e55844.svg?logo=data%3aimage%2fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAHAAAAA0CAMAAABl90wDAAAAjVBMVEUAAADrcFvqb1rrcVztclzuc17tc13rcFrrb1rtcl3qcFvrcVrrcFvscFvrcFrud2Tsb1rtcVvrcFzqb1vscFv0eWPrcFvscFvrb1rscFzrcFzscV3%2fiX3rb1rtcVzrb1rrcFrrcFv%2ffmLrcFrsc1%2frcFrrcFrrcFvwdF3scFvrcFvzdWPrcFrscFvqb1raTo%2bjAAAALnRSTlMA9MRXKS4bym480mbOhIIOhVOL7J4X2WvwWU02BKtD38CRCaMm%2bea2IHlzE5ZgwvLvugAAAo5JREFUeAHt1%2bu%2bcloUx%2fG%2fg2TRkkKWSEnnGvd%2feXsORYfUw9L2Yu%2fn%2b7Y%2b85eGOQsuPBJWRzwySQgc1CYT6%2bFPTGI6Hm2IfbcLehN2qFjYxAN7lV95r0WwXH2DG9mK2Ghwow9gTywZ3Zk2Dm4DEva4iumZDBwCqhA2DqJPwipDYUYVYmBBVbTmwSi5%2b1K1gCqYOFGVddo8CJOYg1y2JjYwzZiExMyFCImt%2b5PJjthowswtbm21exaxmfbgkDe%2bwKYJsT4A7ebjRfsVCYEGwcqDqBBTLc6wGL89XBHbgfnlrtvOiY2nYLu8neLZqGZQLW7EMTFJQe5IQgJhSSzJkNNe3p77mkHoxDIQ%2b9JwdiJmF0HXxlkk5VPGs61UMzgk9s3BoP%2bjC5sUUGVhhHMwCVFaWpYla6iQqncsYppXii%2fBkJgM8ncHpD4JLkpcOEUotTja3EvwILEdDLCwmJGhXEyUatlvg1XvSyJ%2b%2bb3%2bh4LOZbVBV8Fofb5Es6sgFsQUT5de%2bmzQIObiNeNjwelMML5837dmnQT160GOroPedxXz3wuqVMV6FXR%2bCkrBJ7YzSzKxhZKLWgZ9ashuGZx%2fKOgOS%2frb4PJDwSlKi7dBzZceUU560j7Y8NlC%2fn8H3UFJ7yD47G%2bwdXA5LHUzQwOlxX8%2beCRB7nDjWyTEHwj6xNLqoKJeGC4xs33QIDau94u%2ftlsEQ0U4jSRiy3rBEC2COl1Jap2gP0ObYExXJp6C2fieH%2fdTXMx%2bFRxRYf3T8H%2fpnpjTMOi589zRtFE3GKW2ffCcgNi2frBajeCermJ0EHSoJG0%2fFtzgpSkVghlqBYPoT0FpnuGlyKLc%2bNhDjWDgx1O8pak23lM1wUMdvRRv%2fQNommOfb6EQtgAAAABJRU5ErkJggg%3d%3d&style=flat&logoWidth=24&label=)](http://jianshu.com/u/f00ad5c62f05)


- A fast, convenient view to unfold or fold content details, even you only need to pass in a text content.
- 一个快速便捷展开或折叠内容详情的控件，甚至你只需要传入一段文字内容。

<div align=left>
<img width="300" height="534" src="http://g.recordit.co/nUahvS453Z.gif"/>
<img width="300" height="319" src="http://g.recordit.co/Vce1183QdS.gif"/>
</div>


## Contents
* [Getting Started 【开始使用】](#Getting_Started)
* [Features 【能做什么】](#Features)
* [Installation 【安装】](#Installation)
* [Examples 【示例】](#Examples)
* [The custom content and property](#Custom_Content)
* [The default Configure](#Default_Configure)
* [The custom attributed string](#Custom_AttributedString)

---

# <a id="Getting_Started"></a> Getting Started【开始使用】

## <a id="Features"></a> Features【能做什么】
ZJUnFoldView是一个快速便捷展开或折叠内容详情的控件。
- 内容详情支持自定义属性文字，甚至只需传入一段文字内容。
- 支持默认折叠的行数和展开按钮位置等功能。

## <a id="Installation"></a> Installation【安装】

### From CocoaPods【使用CocoaPods】

```ruby
pod 'ZJUnFoldView'
```

### Manually【手动导入】
- Drag all source files under floder `ZJUnFoldView` to your project.【将`ZJUnFoldView`文件夹中的所有源代码拽入项目中】
- Import the main header file：`#import "ZJUnFoldView.h"`【导入主头文件：`#import "ZJUnFoldView.h"`】

```objc
ZJUnFoldView.h                      ZJUnFoldView.m
ZJUnFoldAttributedString.h          ZJUnFoldAttributedString.m
ZJUnFoldParagraphStyle.h            ZJUnFoldParagraphStyle.m
ZJUnFoldView+Untils.h               ZJUnFoldView+Untils.m
```
# <a id="Examples"></a> Examples【示例】

### <a id="Custom_Content"></a> The custom content and property【通过自定义内容和属性】
```objc
// 1.获取属性字符串：自定义内容和属性
ZJUnFoldAttributedString *unFoldAttrStr = [[ZJUnFoldAttributedString alloc] initWithContent:@"人生，如一幅春夏秋冬的景象，岁月，像一趟穿越四季的列车，我们都在路上。际遇是沿途的风光，无论我们是无视或是欣赏，终究都成为匆匆的过往。珍惜吧，珍惜会让生命中的美好增加一些重量。豁然吧，豁然是因为明白一切的风霜仅仅是过场。"
contentFont:[UIFont systemFontOfSize:12.0f]
contentColor:[ZJUnFoldView colorWithHexString:@"#8b8b8b"]
unFoldString:@"[显示全文]"
foldString:@"[收回]"
unFoldFont:[UIFont systemFontOfSize:12.0f]
unFoldColor:[ZJUnFoldView colorWithHexString:@"#dd4991"]
lineSpacing:7.0f];

// 2.添加展开视图
ZJUnFoldView *unFoldView = [[ZJUnFoldView alloc] initWithAttributedString:unFoldAttrStr maxWidth:200.0f isDefaultUnFold:NO foldLines:3 location:UnFoldButtonLocationRight];
unFoldView.frame = CGRectMake(100, 100, unFoldView.frame.size.width, unFoldView.frame.size.height);
unFoldView.backgroundColor = [UIColor orangeColor];
[self.view addSubview:unFoldView];
```

### <a id="Default_Configure"></a> The default Configure【通过默认配置】
```objc
// 1.获取属性字符串：默认配置
ZJUnFoldAttributedString *unFoldAttrStr = [ZJUnFoldAttributedString defaultConficAttributedString:@"人生，如一幅春夏秋冬的景象，岁月，像一趟穿越四季的列车，我们都在路上。际遇是沿途的风光，无论我们是无视或是欣赏，终究都成为匆匆的过往。珍惜吧，珍惜会让生命中的美好增加一些重量。豁然吧，豁然是因为明白一切的风霜仅仅是过场。"];

// 2.添加展开视图
ZJUnFoldView *unFoldView = [[ZJUnFoldView alloc] initWithAttributedString:unFoldAttrStr maxWidth:200.0f isDefaultUnFold:NO foldLines:3 location:UnFoldButtonLocationRight];
unFoldView.frame = CGRectMake(100, 100, unFoldView.frame.size.width, unFoldView.frame.size.height);
unFoldView.backgroundColor = [UIColor orangeColor];
[self.view addSubview:unFoldView];
```

### <a id="Custom_AttributedString"></a> The custom attributed string【通过自定义属性字符串】
```objc
// 1.自定义属性字符串
// 1.1 内容属性字符串
NSAttributedString *contentAttrStr = [[NSAttributedString alloc] initWithString:@"人生，如一幅春夏秋冬的景象，岁月，像一趟穿越四季的列车，我们都在路上。际遇是沿途的风光，无论我们是无视或是欣赏，终究都成为匆匆的过往。珍惜吧，珍惜会让生命中的美好增加一些重量。豁然吧，豁然是因为明白一切的风霜仅仅是过场。" attributes:@{NSFontAttributeName : [UIFont systemFontOfSize:12.0f], NSForegroundColorAttributeName : [ZJUnFoldView colorWithHexString:@"#8b8b8b"]}];
// 1.2 展开属性字符串
NSAttributedString *unFoldAttrStr = [[NSMutableAttributedString alloc] initWithString:@"[显示全文]" attributes:@{NSFontAttributeName : [UIFont systemFontOfSize:12.0f], NSForegroundColorAttributeName : [ZJUnFoldView colorWithHexString:@"#dd4991"]}];
// 1.3 折叠属性字符串
NSAttributedString *foldAttrStr = [[NSMutableAttributedString alloc] initWithString:@"[收回]" attributes:@{NSFontAttributeName : [UIFont systemFontOfSize:12.0f], NSForegroundColorAttributeName : [ZJUnFoldView colorWithHexString:@"#dd4991"]}];
// 1.4 样式
ZJUnFoldParagraphStyle *paragraphStyle = [ZJUnFoldParagraphStyle initWithLineSpacing:7.0f];

// 2.获取属性字符串：自定义属性字符串
ZJUnFoldAttributedString *attrStr = [[ZJUnFoldAttributedString alloc] initWithContentAttrStr:contentAttrStr unFoldAttrStr:unFoldAttrStr foldAttrStr:foldAttrStr paragraphStyle:paragraphStyle];

// 3.添加展开视图
ZJUnFoldView *unFoldView = [[ZJUnFoldView alloc] initWithAttributedString:attrStr maxWidth:200.0f isDefaultUnFold:NO foldLines:3 location:UnFoldButtonLocationRight];
unFoldView.frame = CGRectMake(100, 100, unFoldView.frame.size.width, unFoldView.frame.size.height);
unFoldView.backgroundColor = [UIColor orangeColor];
[self.view addSubview:unFoldView];
```

## 期待
* 如果在使用过程中遇到BUG，请Issues我，谢谢
* 如果你想为ZJUnFoldView输出代码，请拼命Pull Requests我
